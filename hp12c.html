<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Calculadora Financeira HP12c Online | SimulaLucro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Calculadora financeira online para calcular PV, FV, PMT, taxa de juros ou n√∫mero de per√≠odos de forma simples.">

<link rel="stylesheet" href="assets/style.css">

<style>
.calc-box{max-width:520px;margin:auto}
.calc-box input{width:100%}
.highlight{
  border:2px solid #2563eb;
  background:#eef2ff;
}
.toggle{
  display:flex;
  gap:.5rem;
  margin-bottom:1rem;
}
.toggle button{
  flex:1;
  padding:.5rem;
  border-radius:6px;
  border:1px solid #ddd;
  background:#f8fafc;
  cursor:pointer;
}
.toggle button.active{
  background:#2563eb;
  color:#fff;
}
.example-btn{
  margin:.3rem 0;
  padding:.4rem .6rem;
  border:1px solid #ddd;
  border-radius:6px;
  background:#fff;
  cursor:pointer;
}
.example-btn:hover{background:#f1f5f9}
</style>
</head>

<body>

<header class="header">
  <div class="header-inner">
    <div class="logo">üí∞ SimulaLucro</div>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="lucro-airbnb.html">Airbnb</a>
      <a href="comparativo.html">Comparativo</a>
      <a href="ponto-equilibrio.html">Equil√≠brio</a>
      <a href="margem-lucro.html">Margem</a>
      <a href="juros-compostos.html">Juros</a>
      <a href="roi.html">ROI</a>
      <a href="hp12c.html" class="active">HP12c</a>
    </nav>
  </div>
</header>

<main class="container">

<div class="card calc-box">
<h1>Calculadora Financeira HP12c</h1>

<p>
Preencha <strong>4 campos</strong> e deixe <strong>1 em branco</strong>.
A calculadora identifica automaticamente qual vari√°vel deve ser calculada.
</p>

<label>PV ‚Äì Valor Presente (R$)</label>
<input id="pv" type="number">

<label>FV ‚Äì Valor Futuro (R$)</label>
<input id="fv" type="number">

<label>PMT ‚Äì Pagamento por per√≠odo (R$)</label>
<input id="pmt" type="number">

<label>Taxa de juros (i)</label>
<div class="toggle">
  <button id="btnPercent" class="active" onclick="setTipo('percent')">%</button>
  <button id="btnDecimal" onclick="setTipo('decimal')">Decimal</button>
</div>
<input id="i" type="number">

<label>N√∫mero de per√≠odos (n)</label>
<input id="n" type="number">

<button class="btn-primary" onclick="calcular()">Calcular</button>

<div id="resultado" style="margin-top:1rem;font-weight:bold"></div>
</div>

<div class="card">
<h2>üìå Exemplos r√°pidos</h2>
<button class="example-btn" onclick="ex1()">Exemplo: calcular FV</button>
<button class="example-btn" onclick="ex2()">Exemplo: calcular PMT</button>
<button class="example-btn" onclick="ex3()">Exemplo: calcular taxa</button>
</div>

<div class="card">
<h2>üìä Interpreta√ß√£o do resultado</h2>
<p>
A vari√°vel destacada foi calculada automaticamente com base nos conceitos
financeiros cl√°ssicos utilizados em investimentos, financiamentos e an√°lise de retorno.
</p>
</div>

<div class="card disclaimer">
‚ö†Ô∏è Esta calculadora possui finalidade exclusivamente educativa e comparativa.
Os resultados n√£o constituem recomenda√ß√£o financeira.
</div>

</main>

<footer class="footer">
  <a href="index.html">In√≠cio</a> ‚Ä¢
  <a href="sobre.html">Sobre</a> ‚Ä¢
  <a href="contato.html">Contato</a> ‚Ä¢
  <a href="privacidade.html">Privacidade</a>
  <p>¬© 2025 SimulaLucro</p>
</footer>

<script>
let tipoTaxa="percent"

function setTipo(tipo){
  tipoTaxa=tipo
  btnPercent.classList.remove("active")
  btnDecimal.classList.remove("active")
  if(tipo==="percent") btnPercent.classList.add("active")
  else btnDecimal.classList.add("active")
}

function limparDestaque(){
  document.querySelectorAll("input").forEach(i=>i.classList.remove("highlight"))
}

function calcular(){
  limparDestaque()

  let pvV=parseFloat(pv.value)
  let fvV=parseFloat(fv.value)
  let pmtV=parseFloat(pmt.value)
  let iV=parseFloat(i.value)
  let nV=parseFloat(n.value)

  if(tipoTaxa==="percent" && !isNaN(iV)) iV=iV/100

  let vars=[
    {id:"pv",v:pvV},
    {id:"fv",v:fvV},
    {id:"pmt",v:pmtV},
    {id:"i",v:iV},
    {id:"n",v:nV}
  ]

  let vazios=vars.filter(x=>isNaN(x.v))
  if(vazios.length!==1){
    resultado.innerText="Preencha exatamente 4 campos."
    return
  }

  let alvo=vazios[0].id
  document.getElementById(alvo).classList.add("highlight")

  if(alvo==="fv") fv.value=(pvV*(1+iV)**nV + (pmtV*((1+iV)**nV-1)/iV)).toFixed(2)
  if(alvo==="pv") pv.value=(fvV/(1+iV)**nV - (pmtV*((1+iV)**nV-1)/(iV*(1+iV)**nV))).toFixed(2)
  if(alvo==="pmt") pmt.value=((fvV-pvV*(1+iV)**nV)*iV/((1+iV)**nV-1)).toFixed(2)
  if(alvo==="n") n.value=(Math.log((fvV*iV+pmtV)/(pvV*iV+pmtV))/Math.log(1+iV)).toFixed(2)
  if(alvo==="i"){
    let rate=0.1
    for(let k=0;k<600;k++){
      let f=pvV*(1+rate)**nV+pmtV*((1+rate)**nV-1)/rate-fvV
      rate-=f/12000
    }
    i.value=(rate*100).toFixed(4)
  }

  resultado.innerText="Vari√°vel calculada: "+alvo.toUpperCase()
}

function ex1(){pv.value=1000;i.value=2;n.value=12;pmt.value=0;fv.value=""}
function ex2(){pv.value=0;fv.value=10000;i.value=1;n.value=24;pmt.value=""}
function ex3(){pv.value=5000;fv.value=8000;n.value=36;pmt.value=0;i.value=""}
</script>

</body>
</html>
