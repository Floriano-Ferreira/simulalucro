<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Calculadora Financeira HP12c Online | SimulaLucro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Calculadora financeira estilo HP12c online. Calcule PV, FV, PMT, taxa de juros ou per√≠odos automaticamente.">

<link rel="stylesheet" href="assets/style.css">
<style>
.calc-box{max-width:520px;margin:auto}
.calc-box input{width:100%}
.highlight{border:2px solid #2563eb;background:#eef2ff}
.example-btn{margin:.25rem 0;padding:.4rem .6rem;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer}
.example-btn:hover{background:#f1f5f9}
</style>
</head>

<body>

<header class="header">
  <div class="header-inner">
    <div class="logo">üí∞ SimulaLucro</div>
    <nav>
      <a href="index.html">In√≠cio</a>
      <a href="lucro-airbnb.html">Airbnb</a>
      <a href="comparativo.html">Comparativo</a>
      <a href="ponto-equilibrio.html">Equil√≠brio</a>
      <a href="margem-lucro.html">Margem</a>
      <a href="juros-compostos.html">Juros</a>
      <a href="roi.html">ROI</a>
      <a href="hp12c-avancada.html" class="active">HP12c</a>
    </nav>
  </div>
</header>

<main class="container">

<div class="card calc-box">
<h1>Calculadora Financeira HP12c</h1>
<p>Preencha <strong>4 campos</strong>. A calculadora identifica automaticamente qual vari√°vel deve ser calculada.</p>

<label>PV ‚Äì Valor Presente (R$)</label>
<input id="pv" type="number">

<label>FV ‚Äì Valor Futuro (R$)</label>
<input id="fv" type="number">

<label>PMT ‚Äì Pagamento por per√≠odo (R$)</label>
<input id="pmt" type="number">

<label>Taxa de juros</label>
<div style="display:flex;gap:.5rem">
<input id="i" type="number" style="flex:1">
<select id="iType">
<option value="percent">%</option>
<option value="decimal">Decimal</option>
</select>
</div>

<label>N√∫mero de per√≠odos (n)</label>
<input id="n" type="number">

<button class="btn-primary" onclick="calcular()">Calcular</button>

<div id="resultado" style="margin-top:1rem;font-weight:bold"></div>
</div>

<div class="card">
<h2>üìå Exemplos r√°pidos</h2>
<button class="example-btn" onclick="ex1()">Calcular FV (investimento)</button>
<button class="example-btn" onclick="ex2()">Calcular PMT (parcelas)</button>
<button class="example-btn" onclick="ex3()">Calcular taxa (i)</button>
</div>

<div class="card">
<h2>üìä Interpreta√ß√£o</h2>
<p>A calculadora resolve automaticamente a vari√°vel ausente com base nos conceitos financeiros cl√°ssicos
utilizados em HP12c, financiamentos e investimentos.</p>
</div>

<div class="card disclaimer">
‚ö†Ô∏è Esta calculadora tem finalidade exclusivamente educativa e comparativa.
Os resultados n√£o constituem recomenda√ß√£o financeira.
</div>

</main>

<footer class="footer">
  <a href="index.html">In√≠cio</a> ‚Ä¢
  <a href="sobre.html">Sobre</a> ‚Ä¢
  <a href="contato.html">Contato</a> ‚Ä¢
  <a href="privacidade.html">Privacidade</a>
  <p>¬© 2025 SimulaLucro</p>
</footer>

<script>
function limparDestaque(){
  document.querySelectorAll("input").forEach(i=>i.classList.remove("highlight"))
}

function calcular(){
  limparDestaque()

  let pv = parseFloat(pvEl.value)
  let fv = parseFloat(fvEl.value)
  let pmt = parseFloat(pmtEl.value)
  let i = parseFloat(iEl.value)
  let n = parseFloat(nEl.value)

  if(iType.value==="percent") i=i/100

  let campos = [
    {id:"pv",v:pv},{id:"fv",v:fv},{id:"pmt",v:pmt},{id:"i",v:i},{id:"n",v:n}
  ]

  let vazios = campos.filter(c=>isNaN(c.v))
  if(vazios.length!==1){
    resultado.innerText="Preencha exatamente 4 campos."
    return
  }

  let alvo=vazios[0].id
  document.getElementById(alvo).classList.add("highlight")

  if(alvo==="fv") fvEl.value=(pv*(1+i)**n + (pmt*((1+i)**n-1)/i)).toFixed(2)
  if(alvo==="pv") pvEl.value=(fv/(1+i)**n - (pmt*((1+i)**n-1)/(i*(1+i)**n))).toFixed(2)
  if(alvo==="pmt") pmtEl.value=((fv-pv*(1+i)**n)*i/((1+i)**n-1)).toFixed(2)
  if(alvo==="n") nEl.value=(Math.log((fv*i+pmt)/(pv*i+pmt))/Math.log(1+i)).toFixed(2)
  if(alvo==="i"){
    let rate=0.1
    for(let k=0;k<500;k++){
      let f=pv*(1+rate)**n+pmt*((1+rate)**n-1)/rate-fv
      rate-=f/10000
    }
    iEl.value=(rate*100).toFixed(4)
  }

  resultado.innerText="Vari√°vel calculada: "+alvo.toUpperCase()
}

const pvEl=pv,fvEl=fv,pmtEl=pmt,iEl=i,nEl=n

function ex1(){pvEl.value=1000;iEl.value=2;nEl.value=12;pmtEl.value=0;fvEl.value=""}
function ex2(){pvEl.value=0;fvEl.value=10000;iEl.value=1;nEl.value=24;pmtEl.value=""}
function ex3(){pvEl.value=5000;fvEl.value=8000;nEl.value=36;pmtEl.value=0;iEl.value=""}
</script>

</body>
</html>
