<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>TIR, VPL e Fluxo de Caixa | SimulaLucro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Calculadora de TIR, VPL e Payback com fluxo de caixa detalhado. Ferramenta financeira educativa para an√°lise de investimentos.">
  <link rel="canonical" href="https://simulalucro.com.br/tir-vpl-fv.html">
  <link rel="stylesheet" href="assets/style.css">
</head>

<body>

<!-- HEADER PADR√ÉO -->
<header class="header">
  <div class="header-inner">
    <div class="logo">üí∞ SimulaLucro</div>
    <nav class="menu">
      <a href="index.html">In√≠cio</a>
      <a href="lucro-airbnb.html">Airbnb</a>
      <a href="comparativo.html">Comparativo</a>
      <a href="equilibrio.html">Equil√≠brio</a>
      <a href="margem.html">Margem</a>
      <a href="servico.html">Servi√ßo</a>
      <a href="juros.html">Juros</a>
      <a href="roi.html">ROI</a>
      <a href="hp12c-calculo-direto.html">HP12c</a>
      <a class="active" href="tir-vpl-fv.html">TIR / VPL</a>
    </nav>
  </div>
</header>

<main class="container">

  <!-- INTRO -->
  <section class="card">
    <h1>TIR, VPL e Fluxo de Caixa</h1>
    <p>
      Analise investimentos com base no fluxo de caixa,
      calculando <strong>TIR</strong>, <strong>VPL</strong> e
      <strong>Payback</strong>. Ideal para projetos,
      neg√≥cios e decis√µes financeiras.
    </p>
  </section>

  <!-- CONFIGURA√á√ïES -->
  <section class="card">
    <h2>Configura√ß√µes</h2>

    <label>Taxa de desconto (% ao per√≠odo)</label>
    <input type="number" id="taxa" placeholder="Ex: 1.5">

    <button class="btn-secondary" onclick="adicionarLinha()">‚ûï Adicionar per√≠odo</button>
  </section>

  <!-- FLUXO DE CAIXA -->
  <section class="card">
    <h2>Fluxo de Caixa</h2>

    <div class="fluxo-header">
      <span>Per√≠odo</span>
      <span>Valor (R$)</span>
    </div>

    <div id="fluxos">
      <div class="fluxo-linha">
        <input type="number" value="0" readonly>
        <input type="number" placeholder="-10000">
      </div>
    </div>

    <button class="btn-primary" onclick="calcular()">Calcular</button>

    <div id="resultado" class="resultado"></div>
  </section>

  <!-- INTERPRETA√á√ÉO -->
  <section class="card info">
    <h2>Interpreta√ß√£o dos resultados</h2>
    <ul>
      <li><strong>TIR</strong>: taxa de retorno do investimento</li>
      <li><strong>VPL &gt; 0</strong>: investimento atrativo</li>
      <li><strong>Payback</strong>: tempo de retorno do capital</li>
    </ul>
  </section>

  <!-- CLUSTER SEO -->
  <section class="card links">
    <h3>Ferramentas relacionadas</h3>
    <ul>
      <li><a href="roi.html">üìä ROI ‚Äì Retorno sobre Investimento</a></li>
      <li><a href="juros.html">üìà Juros Compostos</a></li>
      <li><a href="hp12c-calculo-direto.html">üßÆ HP12c Online</a></li>
    </ul>
  </section>

  <!-- DISCLAIMER -->
  <section class="disclaimer">
    ‚ö†Ô∏è Esta calculadora √© apenas uma simula√ß√£o e n√£o constitui
    recomenda√ß√£o financeira. Os c√°lculos possuem car√°ter educativo.
  </section>

</main>

<!-- FOOTER -->
<footer class="footer">
  <p>
    <a href="sobre.html">Sobre</a> ¬∑
    <a href="contato.html">Contato</a> ¬∑
    <a href="politica-privacidade.html">Privacidade</a>
  </p>
  <p>¬© 2025 SimulaLucro</p>
</footer>

<script>
function adicionarLinha(){
  const linhas = document.querySelectorAll('.fluxo-linha').length;
  const div = document.createElement('div');
  div.className = 'fluxo-linha';
  div.innerHTML = `
    <input type="number" value="${linhas}">
    <input type="number" placeholder="Ex: 3000">
  `;
  document.getElementById('fluxos').appendChild(div);
}

function calcular(){
  const taxa = parseFloat(document.getElementById('taxa').value) / 100;
  const valores = [...document.querySelectorAll('.fluxo-linha input:nth-child(2)')]
    .map(i => parseFloat(i.value) || 0);

  // VPL
  let vpl = 0;
  valores.forEach((v, i) => {
    vpl += v / Math.pow(1 + taxa, i);
  });

  // TIR (Newton-Raphson)
  let tir = 0.1;
  for(let k=0;k<100;k++){
    let f=0, df=0;
    valores.forEach((v,i)=>{
      f += v / Math.pow(1+tir,i);
      df += -i * v / Math.pow(1+tir,i+1);
    });
    tir = tir - f/df;
  }

  // Payback simples
  let acumulado = 0, payback = '-';
  for(let i=0;i<valores.length;i++){
    acumulado += valores[i];
    if(acumulado >= 0){
      payback = i;
      break;
    }
  }

  document.getElementById('resultado').innerHTML = `
    üìä <strong>Resultados</strong><br><br>
    VPL: <strong>R$ ${vpl.toFixed(2)}</strong><br>
    TIR: <strong>${(tir*100).toFixed(2)}%</strong><br>
    Payback simples: <strong>${payback}</strong> per√≠odos
  `;
}
</script>

</body>
</html>
