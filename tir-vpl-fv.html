<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>TIR, VPL e Payback | SimulaLucro</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Calcule TIR, VPL, Payback simples e descontado com fluxo de caixa detalhado. Ferramenta gratuita e educativa.">
<link rel="canonical" href="https://simulalucro.com.br/tir-vpl-fv.html">
<link rel="stylesheet" href="assets/style.css">
</head>

<body>

<header class="header">
  <div class="header-inner">
    <div class="logo">üí∞ SimulaLucro</div>
    <nav class="menu">
      <a href="index.html">In√≠cio</a>
      <a href="lucro-airbnb.html">Airbnb</a>
      <a href="comparativo.html">Comparativo</a>
      <a href="equilibrio.html">Equil√≠brio</a>
      <a href="margem.html">Margem</a>
      <a href="servico.html">Servi√ßo</a>
      <a href="juros.html">Juros</a>
      <a href="roi.html">ROI</a>
      <a href="hp12c-explicada.html">HP12c</a>
      <a class="active" href="tir-vpl-fv.html">TIR / VPL</a>
    </nav>
  </div>
</header>

<main class="container">

<section class="card">
  <h1>üìâ TIR, VPL e Payback</h1>
  <p>
    Avalie a viabilidade de investimentos por meio do
    <strong>fluxo de caixa</strong>, calculando
    <strong>TIR, VPL e Payback</strong>.
  </p>
</section>

<!-- TAXA -->
<section class="card">
  <h2>Taxa de desconto</h2>
  <label>Taxa</label>
  <input id="taxa" placeholder="Ex: 10">
  <label>
    <input type="checkbox" id="decimal">
    Taxa em formato decimal (0,10)
  </label>
</section>

<!-- FLUXO -->
<section class="card">
  <h2>Fluxo de Caixa (Data Zero obrigat√≥ria)</h2>

  <table style="width:100%;font-size:14px">
    <thead>
      <tr>
        <th style="width:80px">Per√≠odo</th>
        <th style="width:90px">Data</th>
        <th style="width:70px">Tipo</th>
        <th>Valor (R$)</th>
      </tr>
    </thead>
    <tbody id="fluxo">
      <tr>
        <td>0</td>
        <td><input type="date"></td>
        <td>
          <select>
            <option value="-1">Sa√≠da</option>
            <option value="1">Entrada</option>
          </select>
        </td>
        <td><input type="number" placeholder="Ex: 10000"></td>
      </tr>
    </tbody>
  </table>

  <button onclick="addLinha()">‚ûï Adicionar per√≠odo</button>
</section>

<button onclick="calcular()">Calcular indicadores</button>

<div id="resultado" class="result"></div>

<!-- INTERPRETA√á√ÉO -->
<section class="card info">
  <h2>Interpreta√ß√£o dos resultados</h2>
  <ul>
    <li><strong>TIR &gt; taxa:</strong> investimento atrativo</li>
    <li><strong>VPL &gt; 0:</strong> gera valor</li>
    <li><strong>Payback menor:</strong> retorno mais r√°pido</li>
  </ul>
</section>

<!-- CLUSTER -->
<section class="card links">
  <h3>Relacionados</h3>
  <ul>
    <li><a href="roi.html">ROI ‚Äì Retorno sobre Investimento</a></li>
    <li><a href="juros.html">Juros Compostos</a></li>
    <li><a href="hp12c-explicada.html">HP12c Explicada</a></li>
  </ul>
</section>

<section class="disclaimer">
  ‚ö†Ô∏è Esta calculadora tem finalidade educativa e comparativa.
  N√£o constitui recomenda√ß√£o financeira.
</section>

</main>

<footer class="footer">
  <p>
    <a href="sobre.html">Sobre</a> ¬∑
    <a href="contato.html">Contato</a> ¬∑
    <a href="politica-privacidade.html">Privacidade</a>
  </p>
  <p>¬© 2025 SimulaLucro</p>
</footer>

<script>
function addLinha(){
  const tbody = document.getElementById("fluxo");
  const i = tbody.children.length;
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${i}</td>
    <td><input type="date"></td>
    <td>
      <select>
        <option value="-1">Sa√≠da</option>
        <option value="1">Entrada</option>
      </select>
    </td>
    <td><input type="number"></td>
  `;
  tbody.appendChild(tr);
}

function calcular(){
  const rows = document.querySelectorAll("#fluxo tr");
  let fluxos = [];

  rows.forEach((r,i)=>{
    const tipo = Number(r.querySelector("select").value);
    const valor = Number(r.querySelector("input[type=number]").value)||0;
    fluxos.push(valor*tipo);
  });

  let taxa = Number(document.getElementById("taxa").value)||0;
  if(!document.getElementById("decimal").checked) taxa/=100;

  let vpl = 0;
  let acumulado = 0;
  let payback = null;

  fluxos.forEach((v,i)=>{
    const desc = v/Math.pow(1+taxa,i);
    vpl+=desc;
    acumulado+=v;
    if(acumulado>=0 && payback===null) payback=i;
  });

  let tir = 0.1;
  for(let k=0;k<1000;k++){
    let f=0;
    fluxos.forEach((v,i)=>f+=v/Math.pow(1+tir,i));
    tir+=f>0?0.0001:-0.0001;
  }

  document.getElementById("resultado").style.display="block";
  document.getElementById("resultado").innerHTML = `
    <strong>Resultados:</strong><br><br>
    üìâ VPL: <strong>R$ ${vpl.toFixed(2)}</strong><br>
    üìà TIR: <strong>${(tir*100).toFixed(2)}%</strong><br>
    ‚è±Ô∏è Payback simples: <strong>${payback ?? "n√£o recuperado"}</strong>
  `;
}
</script>

</body>
</html>
